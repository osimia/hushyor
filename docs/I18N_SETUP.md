# Настройка многоязычности (i18n)

## Обзор
Проект настроен для поддержки таджикского и русского языков с использованием Django i18n.

## Языки
- **Таджикский (tg)** - язык по умолчанию
- **Русский (ru)** - дополнительный язык

## Компиляция переводов

После изменения файлов `.po` необходимо скомпилировать их в `.mo` файлы:

```bash
# Компилировать все языки
python manage.py compilemessages

# Или для конкретного языка
python manage.py compilemessages -l tg
python manage.py compilemessages -l ru
```

## Структура файлов

```
locale/
├── tg/
│   └── LC_MESSAGES/
│       ├── django.po  # Исходные переводы на таджикский
│       └── django.mo  # Скомпилированные переводы (генерируется автоматически)
└── ru/
    └── LC_MESSAGES/
        ├── django.po  # Исходные переводы на русский
        └── django.mo  # Скомпилированные переводы (генерируется автоматически)
```

## Добавление новых переводов

1. Добавьте теги перевода в шаблоны:
```django
{% load i18n %}
{% trans "Текст для перевода" %}
```

2. Обновите файлы `.po` в `locale/tg/LC_MESSAGES/django.po` и `locale/ru/LC_MESSAGES/django.po`

3. Скомпилируйте переводы:
```bash
python manage.py compilemessages
```

4. Перезапустите сервер

## Переключение языка

Язык определяется автоматически на основе:
1. Параметра URL `?language=tg` или `?language=ru`
2. Cookie `django_language`
3. Настройки `LANGUAGE_CODE` в settings.py (по умолчанию: `tg`)

## Примеры переводов

### Таджикский → Русский
- Масъала → Задание
- Аъло! → Отлично!
- Ҷавоби дуруст → Правильный ответ
- Бозгашт → Назад
- Навбатӣ → Следующее

## Требования

Для компиляции переводов требуется установить `gettext`:

**Windows:**
```bash
# Скачайте и установите gettext для Windows
# https://mlocati.github.io/articles/gettext-iconv-windows.html
```

**Linux/Mac:**
```bash
sudo apt-get install gettext  # Ubuntu/Debian
brew install gettext          # macOS
```

## Примечания

- Файлы `.mo` не должны добавляться в git (они генерируются автоматически)
- После изменения переводов всегда компилируйте их перед тестированием
- Язык по умолчанию установлен на таджикский (`tg`)
