# ‚úÖ –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

**–î–∞—Ç–∞:** 2026-01-06  
**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## üìä –°–≤–æ–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 4 –∏–∑ 5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã N+1 –∑–∞–ø—Ä–æ—Å—ã** - –í–´–ü–û–õ–ù–ï–ù–û
2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω Rate Limiting** - –í–´–ü–û–õ–ù–ï–ù–û
3. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –í–´–ü–û–õ–ù–ï–ù–û
4. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í–´–ü–û–õ–ù–ï–ù–û
5. ‚è≥ **–¢–µ—Å—Ç—ã** - –ù–ï –í–´–ü–û–õ–ù–ï–ù–û (–ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

---

## üîß –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤

#### –§–∞–π–ª: `core/views.py`

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

1. **main_view (—Å—Ç—Ä–æ–∫–∏ 20-61)**
   - ‚ùå –ë—ã–ª–æ: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Ä–µ—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
   - ‚úÖ –°—Ç–∞–ª–æ: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å —Å `annotate` –∏ `Q` —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
   - üìà –£–ª—É—á—à–µ–Ω–∏–µ: –° ~50 –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ 2 –∑–∞–ø—Ä–æ—Å–æ–≤
   - üíæ –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ 5 –º–∏–Ω—É—Ç

2. **subject_view (—Å—Ç—Ä–æ–∫–∏ 66-110)**
   - ‚ùå –ë—ã–ª–æ: N+1 –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã
   - ‚úÖ –°—Ç–∞–ª–æ: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å —Å `prefetch_related` –∏ `Prefetch`
   - üìà –£–ª—É—á—à–µ–Ω–∏–µ: –° ~20 –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ 2 –∑–∞–ø—Ä–æ—Å–æ–≤
   - üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `get_object_or_404` –≤–º–µ—Å—Ç–æ `.get()`

3. **task_view (—Å—Ç—Ä–æ–∫–∏ 155-175)**
   - ‚ùå –ë—ã–ª–æ: `Task.objects.get()` –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
   - ‚úÖ –°—Ç–∞–ª–æ: `get_object_or_404` —Å `select_related`
   - üìà –£–ª—É—á—à–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 404 + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```python
# –î–æ
subjects = Subject.objects.annotate(total_tasks=Count('tasks'))
for subject in subjects:
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ subject!
    solved = TaskAttempt.objects.filter(...).count()

# –ü–æ—Å–ª–µ
subjects = Subject.objects.annotate(
    total_tasks=Count('tasks', distinct=True),
    completed_tasks=Count(
        'tasks',
        filter=Q(tasks__taskattempt__user=request.user, 
                 tasks__taskattempt__is_solved=True),
        distinct=True
    )
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üöÄ –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü —É–≤–µ–ª–∏—á–µ–Ω–∞ –≤ 5-10 —Ä–∞–∑
- üíæ –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

---

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Rate Limiting

#### –§–∞–π–ª—ã: 
- `backend/settings.py`
- `core/throttling.py` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- `core/api_views.py`
- `core/views.py`

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

1. **DRF Throttling (settings.py, —Å—Ç—Ä–æ–∫–∏ 93-103)**
   ```python
   'DEFAULT_THROTTLE_CLASSES': [
       'rest_framework.throttling.AnonRateThrottle',
       'rest_framework.throttling.UserRateThrottle',
   ],
   'DEFAULT_THROTTLE_RATES': {
       'anon': '100/hour',      # 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –¥–ª—è –∞–Ω–æ–Ω–∏–º–æ–≤
       'user': '1000/hour',     # 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
       'login': '5/hour',       # 5 –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –≤ —á–∞—Å
       'ai': '10/hour',         # 10 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å
   },
   ```

2. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ throttle –∫–ª–∞—Å—Å—ã (core/throttling.py)**
   - `LoginRateThrottle` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
   - `AIRateThrottle` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ AI –∑–∞–ø—Ä–æ—Å–æ–≤

3. **Login Rate Limiting (api_views.py, —Å—Ç—Ä–æ–∫–∏ 56-75)**
   - –ú–∞–∫—Å–∏–º—É–º 5 –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –≤ —á–∞—Å
   - –í–æ–∑–≤—Ä–∞—Ç 429 —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

4. **AI Rate Limiting (views.py, —Å—Ç—Ä–æ–∫–∏ 181-200)**
   - –ú–∞–∫—Å–∏–º—É–º 10 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/IP
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Django cache –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫ –Ω–∞ login
- üí∞ –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –¥–æ—Ä–æ–≥–∏–º AI API
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫
- üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–≤—ã—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤

---

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

#### –§–∞–π–ª—ã:
- `core/views.py`
- `core/ai_helper.py`

**–ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ:**

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ get_object_or_404**
   - `subject_view`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - `task_view`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–¥–∞—á

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (views.py, —Å—Ç—Ä–æ–∫–∏ 210-225)**
   ```python
   # –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
   if not answer:
       return JsonResponse({'error': '–û—Ç–≤–µ—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º'}, status=400)
   
   if len(answer) > 100:
       return JsonResponse({'error': '–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π'}, status=400)
   
   # –í–∞–ª–∏–¥–∞—Ü–∏—è AI —Å–æ–æ–±—â–µ–Ω–∏–π
   if message and len(message) <= 500:
       # –û–±—Ä–∞–±–æ—Ç–∫–∞
   else:
       return JsonResponse({'error': '–°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ'}, status=400)
   ```

3. **Try-except –±–ª–æ–∫–∏ (views.py, —Å—Ç—Ä–æ–∫–∏ 181-295)**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö POST –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ try-except
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
   - –í–æ–∑–≤—Ä–∞—Ç –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

4. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ AI (ai_helper.py)**
   - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö AI –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è**
   ```python
   # –î–æ
   profile = UserProfile.objects.get(user=request.user)
   
   # –ü–æ—Å–ª–µ
   profile, created = UserProfile.objects.get_or_create(user=request.user)
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 0 –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- üìù –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- üë§ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîí –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

### 4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### –§–∞–π–ª—ã:
- `backend/settings.py` (—Å—Ç—Ä–æ–∫–∏ 247-331)
- `core/views.py`
- `core/ai_helper.py`
- `.gitignore`

**–ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:**

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LOGGING (settings.py)**
   - 3 —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (15MB –∫–∞–∂–¥—ã–π, 10 –±—ç–∫–∞–ø–æ–≤):
     - `logs/django.log` - –æ–±—â–∏–π –ª–æ–≥
     - `logs/errors.log` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
     - `logs/security.log` - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–µ–º, –º–æ–¥—É–ª–µ–º, —Ñ—É–Ω–∫—Ü–∏–µ–π
   - –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–ª—è dev/production

2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ views.py:**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ)
   - AI –∑–∞–ø—Ä–æ—Å—ã (theory, hint, custom)
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
   - –ü–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ (—É—Å–ø–µ—à–Ω—ã–µ/–Ω–µ—É—Å–ø–µ—à–Ω—ã–µ)
   - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ rate limits
   - –í—Å–µ –æ—à–∏–±–∫–∏

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ai_helper.py:**
   - –í—Å–µ AI –∑–∞–ø—Ä–æ—Å—ã
   - –ö—ç—à —Ö–∏—Ç—ã/–º–∏—Å—Å—ã
   - –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
   - –û—à–∏–±–∫–∏ API

4. **–ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤:**
   ```
   [INFO] 2026-01-06 17:00:00 core views task_view - User 123 viewing task 456
   [INFO] 2026-01-06 17:00:05 core views task_view - User 123 submitted answer for task 456: correct
   [INFO] 2026-01-06 17:00:05 core views task_view - Awarded 25 points to user 123
   [WARNING] 2026-01-06 17:00:10 core views login_view - Failed login attempt for phone +992901234567 from 192.168.1.1: wrong password
   [ERROR] 2026-01-06 17:00:15 core ai_helper get_theory_lesson - Error generating theory: API quota exceeded
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üìù –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- üîç –õ–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- üîí –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤–∑–ª–æ–º–∞
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI
- üóÇÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **main_view**: 50+ –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí 2 –∑–∞–ø—Ä–æ—Å–∞ (—É–ª—É—á—à–µ–Ω–∏–µ –≤ 25x)
- **subject_view**: 20+ –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí 2 –∑–∞–ø—Ä–æ—Å–∞ (—É–ª—É—á—à–µ–Ω–∏–µ –≤ 10x)
- **task_view**: 5+ –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí 2 –∑–∞–ø—Ä–æ—Å–∞ (—É–ª—É—á—à–µ–Ω–∏–µ –≤ 2.5x)
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏**: –£–º–µ–Ω—å—à–µ–Ω–æ –Ω–∞ 70-80%

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **Rate limiting**: –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ –∏ DDoS
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ try-except
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: 0 –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: AI –æ—Ç–≤–µ—Ç—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 24 —á–∞—Å–∞
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

1. **–¢–µ—Å—Ç—ã (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pytest: `pip install pytest pytest-django pytest-cov`
   - –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π –∏ API
   - –î–æ—Å—Ç–∏—á—å –ø–æ–∫—Ä—ã—Ç–∏—è –º–∏–Ω–∏–º—É–º 50%

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Sentry: `pip install sentry-sdk`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –æ—à–∏–±–æ–∫ –≤ production

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å drf-spectacular: `pip install drf-spectacular`
   - –°–æ–∑–¥–∞—Ç—å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è production
   - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è leaderboard

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. ‚úèÔ∏è `core/views.py` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. ‚úèÔ∏è `backend/settings.py` - throttling, logging
3. ‚úèÔ∏è `core/api_views.py` - rate limiting –¥–ª—è login
4. ‚úèÔ∏è `core/ai_helper.py` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. ‚úèÔ∏è `.gitignore` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è logs/

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
6. ‚ú® `core/throttling.py` - –∫–∞—Å—Ç–æ–º–Ω—ã–µ throttle –∫–ª–∞—Å—Å—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ:
7. üìÇ `logs/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å django-debug-toolbar (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pip install django-debug-toolbar

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python manage.py runserver

# –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Rate Limiting:
```bash
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ 6 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º
# –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–¥–µ–ª–∞—Ç—å 11 AI –∑–∞–ø—Ä–æ—Å–æ–≤
# 11-–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Å–∞–π—Ç–µ
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
cat logs/django.log
cat logs/errors.log
cat logs/security.log
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:
```bash
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–¥–∞—á—É
# –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 404

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
# –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
```

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤) —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

- ‚úÖ **N+1 –∑–∞–ø—Ä–æ—Å—ã**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ views
- ‚úÖ **Rate Limiting**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å:**
- üöÄ –†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ (–≤ 5-10 —Ä–∞–∑)
- üîí –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–µ–Ω
- üõ°Ô∏è –ó–∞—â–∏—â–µ–Ω –æ—Ç –∞—Ç–∞–∫
- üìù –õ–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ production (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤)

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2026-01-06  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û
